(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{8311:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/protected/withdraw",function(){return a(5453)}])},5453:function(e,t,a){"use strict";a.r(t);var r=a(5893),s=a(7294),l=a(7066),n=a(1163);t.default=()=>{let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[i,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(0),[h,b]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("address");if(e)c(e);else{let e=(await l.Z.get("https://btcex.onrender.com")).data.address;localStorage.setItem("address",e),c(e)}}catch(e){console.error("Error fetching address:",e)}})()},[]),(0,s.useEffect)(()=>{let e=async()=>{try{if(i){let e=(await l.Z.get("https://api.bitcore.io/api/BTC/mainnet/address/".concat(i,"/balance"))).data.balance;console.log("Raw balance:",e);let t=parseFloat(e)/1e8;isNaN(t)?(console.error("Invalid balance:",e),m(0)):m(t)}}catch(e){console.error("Error fetching balance:",e),m(0)}};i&&e()},[i]);let w=()=>{let e=parseFloat(o);return e<1e-6?(b("Minimal amount for withdraw is 0.000001 BTC"),!1):e+1e-6>u?(b("Insufficient balance to cover withdrawal amount and fee."),!1):(b(""),console.log("Withdraw Address:",t),console.log("Withdraw Amount:",o),!0)};return(0,r.jsxs)("div",{className:"flex h-screen",children:[(0,r.jsxs)("div",{className:"w-3/10 p-4 border-r border-gray-300",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded mr-4 w-full max-w-xs mb-2",onClick:()=>{e.push({pathname:"/protected/deposit"})},children:"Deposit Crypto"})}),(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded mr-4 w-full max-w-xs",onClick:()=>{e.push({pathname:"/protected/withdraw"})},children:"Withdraw"})]}),(0,r.jsxs)("div",{className:"w-7/10 p-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Withdraw Bitcoin"}),(0,r.jsxs)("p",{className:"mb-4",children:["Your Balance is: ",u.toFixed(8)," BTC"]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),w()&&console.log("Proceed with withdrawal")},children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Withdraw Address"}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),className:"mt-1 p-2 block w-full border border-gray-300 rounded-md",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Withdraw Amount"}),(0,r.jsx)("input",{type:"number",step:"0.0001",value:o,onChange:e=>d(e.target.value),className:"mt-1 p-2 block w-full border border-gray-300 rounded-md",required:!0})]}),(0,r.jsx)("p",{className:"mb-4",children:"Minimal amount for withdraw is 0.000001 BTC"}),(0,r.jsx)("p",{className:"mb-4",children:"Fee for withdraw is 0.000001 BTC"}),h&&(0,r.jsx)("p",{className:"text-red-500 mb-4",children:h}),(0,r.jsx)("button",{type:"submit",className:"bg-red-500 hover:bg-red-700 text-white py-2 px-4 rounded",children:"Submit Withdraw"})]})]})]})}}},function(e){e.O(0,[143,888,774,179],function(){return e(e.s=8311)}),_N_E=e.O()}]);